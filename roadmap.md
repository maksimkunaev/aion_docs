# Roadmap: POC Reasoning System

## Цель
Доказать, что система может решать multi-step задачи через предсказание состояний мира, используя минимальную онтологию и простой текстовый input.

---

## Phase 0: Setup (1-2 дня)

- [ ] Выбрать один основной подход (симуляция vs LLM-based)
- [ ] Определить минимальную онтологию (сущности, свойства, отношения, действия)
- [ ] Написать 3-5 вопросов разной сложности (простые, средние, сложные)

---

## Phase 1: Toy Scenario Definition (2-3 дня)

**Сценарий: "Алиса и яблочное дерево"**

**Начальное состояние** (из текста):
- Алиса в саду, голодная (energy=0)
- Яблочное дерево с 5 яблоками (count=5)
- Путь от Алисы к дереву (distance=3 шага)

**Цель:** Алиса соберёт все яблоки и будет сыта (energy=5)

**Примеры вопросов:**
- Простые: "Где находится Алиса? Сколько яблок на дереве?"
- Средние: "Что случится, если Алиса подойдёт к дереву?"
- Сложные: "Как Алисе собрать все яблоки? Сколько шагов потребуется?"

---

## Phase 2: Implement State Prediction (3-5 дней)

**Вариант A: Симуляция-first**
- [ ] Написать простой движок (State → Action → NewState)
- [ ] Закодировать 5-10 правил (walk_towards, pick_up, eat, etc.)
- [ ] Сгенерировать 100-200 траекторий (state sequences)

**Вариант B: LLM-based**
- [ ] Парсер: текст → structured state
- [ ] LLM as predictor: (state + action) → next state
- [ ] Обучить на 100-200 примерах или использовать in-context

**Выбор:** Начать с A (проще, понятнее), затем сравнить с B.

---

## Phase 3: Build Query Answering (2-3 дня)

- [ ] Парсер для вопросов (extract: subject, predicate, question_type)
- [ ] Routing: какой тип вопроса → какой алгоритм?
  - Retrieval: поиск в текущем state
  - Prediction: simulate → найти answer
  - Planning: backward search от goal

- [ ] Реализовать ответы на все 3 типа вопросов

---

## Phase 4: Test & Validate (2-3 дня)

- [ ] Прогнать все вопросы, проверить корректность ответов
- [ ] Тест на новых state configurations (варьировать начальные условия)
- [ ] Убедиться: система не memorizes, а именно reasoning-ит

---

## Phase 5: Demo & Documentation (1-2 дня)

- [ ] Написать пример end-to-end
- [ ] Визуализировать state transitions (text или ASCII grid)
- [ ] Задокументировать архитектуру (как работает чёрный ящик)

---

## Success Criteria

✅ Система отвечает на все 9 вопросов (3 простых + 3 средних + 3 сложных)  
✅ Ответы логически консистентны между собой  
✅ При изменении начального состояния ответы меняются правильно  
✅ Можно показать цепочку рассуждений (state1 → action → state2)  

---

## Оценка времени
**Всего: ~2 недели** (если работать сосредоточенно)

---

## Ключевое уточнение

**Про выбор подхода:**
- **Симуляция (вариант A)**: Быстрее реализовать POC, понятнее архитектура, можно потом на LLM.
- **LLM (вариант B)**: "Более магично" выглядит, но нужны данные и сложнее дебажить.

Предлагаю: **начать с A**, получить working POC за неделю, потом параллельно экспериментировать с B.